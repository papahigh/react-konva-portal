= react-konva-portal
Nikolay Papakha
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :paperclip:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]
ifndef::env-github[]
endif::[]

> Portal API support for react-konva


`react-konva-portal` brings https://reactjs.org/docs/portals.html[portals] support for `react-konva`
components and allows mounting canvas elements into different `Stage` locations regardless of a particular component hierarchy.

.link:https://i.imgur.com/XKOPPBN.gif[demo.gif]
image::https://i.imgur.com/XKOPPBN.gif[420,420]

Please see https://github.com/papahigh/react-konva-portal/tree/master/example[example project] .

== Install

[source,bash]
----
yarn add react-konva-portal
----

IMPORTANT: Please note, this package depends on `konva` and `react-konva` packages.

== Usage

First of all, you should define your `Konva.Stage` using `Stage` component from `react-konva-portal`.
Please, use it as a drop-in replacement of the original one. It is required in order for portals to work.

Any content placed in a `<Portal/>` will be rendered outside of its tree hierarchy in a special layer of a `Stage`.

[source,javascript]
----
import React, { Component } from 'react';
import { Rect, Text, Layer } from 'react-konva';
import { Stage, Portal } from 'react-konva-portal';

class ExampleStage extends Component {
  render() {
    return (
      <Stage width={400} height={400}>
        <Layer name="example-layer">
          <Portal>
            <Text text="This content will be rendered in a Portal (above overlay-layer)." width={400} height={400} />
          </Portal>
        </Layer>
        <Layer name="overlay-layer">
          <Rect fill="#c1f7ff" width={400} height={400} />
        </Layer>
      </Stage>
    );
  }
}
----

== API

=== Stage Props
Interface StageProps inherits original StageProps from `react-konva` and extends them with the following:

portalLayerProps::
Optional. Accepts `Konva.LayerConfig` and brings it straight to portals containing `Layer` instance from `react-konva`.

=== Portal Props
children::
Required. This property holds "travelling" content.
zIndex::
Optional. Specifies the stack order of a `Portal` instance within a particular `Stage`.

== Contribute
Use the https://github.com/papahigh/react-konva-portal/issues[issue tracker] and/or open https://github.com/papahigh/react-konva-portal/pulls[pull requests].

== License

MIT Â© https://github.com/papahigh[papahigh]
